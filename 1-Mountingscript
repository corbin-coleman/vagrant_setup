#!/bin/bash
# Mounting Script for connecting to the Network_Drive	
#####
# Load config files
#####
source config

#####
# Create folder if it doesn't exist
#####
if [ ! -d $NETWORKDRIVEDIR ]; then
    mkdir $NETWORKDRIVEDIR
fi

#####
# Attempt to mount drive multiple times
#####
for i in {0..100}
do
    mount -t smbfs smb://srv008/Students/`whoami` $NETWORKDRIVEDIR
    if [ `echo $?` -eq 0 ]; then
        break
    fi
    echo "Sometimes the network doesn't work (._.)"
    echo "Try restarting or use another mac? ¯\_(ツ)_/¯"
    sleep 10
done
